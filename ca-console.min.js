/**
* Console AngularJS Module v1.0.0
* https://github.com/albulescu/angular-ca-console
*
* Author Albulescu Cosmin <cosmin@albulescu.ro>
* Licensed under the MIT license.
*/

"use strict";angular.module("ca.console.templates",[]).run(["$templateCache",function(a){a.put("ca-console/directive/console.html",'<div class=ca-console ng-init=init() ng-style=style><div class=ca-console-header></div><div class=ca-console-body><ul><li ng-class=classes[log.type] ng-repeat="log in logs">{{log.body}}</li></ul></div><div class=ca-console-command><input ng-model=command ng-keydown=keydown($event)></div><div class=ca-console-move title="Move console"></div><div class=ca-console-close title="Close console" ng-click=hide()></div><div class=ca-console-resize title="Resize console"></div></div>')}]),angular.module("ca.console",["ca.console.templates"]).constant("DEFAULT_SIZE",[600,250]).provider("$console",function(){var a={};this.overrideBrowserConsole=function(){a.overrideBrowserConsole=!0},this.showPassword=function(b){a.showPassword=b},this.position=function(b){a.position=b},this.$get=["$rootScope","$timeout","$document","$compile",function(b,c,d,e){var f,g=function(){f=this,this.HIDE_ON_BLUR="hideOnBlur",this.USE_ANIMATIONS="useAnimations";var c=document.createElement("console");angular.element("body").append(c);var d=b.$new(!0);e(c)(d);for(var g in a);this.element=c};g.prototype.log=function(){this.element.scope().log.apply(this.element.scope().log,arguments)},g.prototype.show=function(){return(this.console.show||this.console.fadeIn)()};var h,i=[];return angular.element(document).keypress(function(a){i.push(String.fromCharCode(a.keyCode)),i.join("")===options.showPassword&&f.show(),c.cancel(h),h=c(function(){i=[]},3e3)}),new g}]}),angular.module("ca.console").controller("ConsoleController",["$scope","$document","$element",function(a,b,c){a.style={},a.classes={0:["log"],2:["info"],4:["warn"],16:["error"],128:["data-in"],256:["data-out"]},a.logs=[],a.init=function(){function a(a){h=a.screenY-f,g=a.screenX-e,c.css({top:h+"px",left:g+"px"})}function d(){b.off("mousemove",a),b.off("mouseup",d)}var e=c.offset().left,f=c.offset().top,g=e,h=f;c.find(".ca-console-move").on("mousedown",function(c){c.preventDefault(),e=c.screenX-g,f=c.screenY-h,b.on("mousemove",a),b.on("mouseup",d)})},a.show=function(){c.show()},a.hide=function(){c.hide()},a.option=function(){}}]),angular.module("ca.console").directive("console",function(){return{restrict:"E",replace:!0,scope:!0,controller:"ConsoleController",templateUrl:"ca-console/directive/console.html"}});